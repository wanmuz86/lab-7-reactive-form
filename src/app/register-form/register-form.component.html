<h2>Form Demo</h2>
<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
<div>
    <label for="username">Username:</label>
    <input type="text" formControlName="username">
    
    <div *ngIf="registerForm.get('username')?.pending">Checking Availability...</div>
    <div *ngIf="registerForm.get('username')?.errors">Name not available</div>
</div>
<div formArrayName="emails">
    <label>Emails:</label>
    <!-- Bring out the form from the form array via an *ngFor -->
    <div *ngFor="let emailCtrl of emails.controls; let i=index">
        <!-- bring out the input -->
        <input [formControlName]='i'>
        <!-- bring out the button -->
        <button type="button" (click)="removeEmail(i)">Remove</button>
    </div>
    <button type="button" (click)="addEmail()">Add Email</button>
</div>
<br/>
<!-- button is invalid when the form is invalid (validation wrong) 
or pending -->
<button type="submit" 
[disabled]="registerForm.invalid ||
registerForm.pending">Submit</button>
</form>
